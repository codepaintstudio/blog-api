# Blog API 开发计划

## 阶段一：项目初始化 ✅

### 1. 项目设计

- [x] 产品需求文档 - 详细功能需求和业务规则梳理
- [x] 架构设计文档 - 技术选型和系统架构设计
- [x] 项目概览文档 - CLAUDE.md 快速了解项目
- [x] 开发计划文档 - TODO.md 完整开发任务清单

### 2. 项目初始化

- [ ] 创建 Go 项目 - 初始化 go.mod 和基础目录结构
- [ ] 配置管理模块 - YAML 配置文件读取和管理
- [ ] 数据库连接 - MySQL 和 Redis 连接池配置

## 阶段二：基础模块开发

### 3. 数据库设计

- [ ] 创建数据库脚本 - 所有表结构创建 SQL 脚本
- [ ] 数据模型定义 - Go 结构体定义和 GORM 标签
- [ ] 数据库迁移工具 - 版本管理和自动迁移机制

### 4. 用户认证模块

- [ ] 用户注册接口 - 邮箱注册、参数验证、密码加密
- [ ] 用户登录接口 - JWT Token 生成和验证机制
- [ ] JWT 中间件 - Token 验证和用户信息提取
- [ ] 密码加密工具 - bcrypt 加密和验证函数

### 5. 用户管理模块

- [ ] 用户信息查询 - 获取和更新用户基本信息接口
- [ ] 头像上传功能 - 图片上传和文件管理集成
- [ ] 密码修改接口 - 旧密码验证和新密码更新

## 阶段三：核心功能开发

### 6. 文章管理模块

- [ ] 文章 CRUD 接口 - 创建、读取、更新、删除文章
- [ ] 文章列表接口 - 分页查询、状态筛选、排序功能
- [ ] 文章详情接口 - 浏览量统计和详情展示
- [ ] 文章搜索功能 - 标题内容搜索和分类筛选

### 7. 分类管理模块

- [ ] 分类 CRUD 接口 - 用户自定义分类管理
- [ ] 分类文章列表 - 获取分类下的所有文章
- [ ] 分类统计功能 - 分类下文章数量统计

### 8. 文件管理模块

- [ ] 文件上传接口 - 支持图片上传和格式验证
- [ ] 文件去重机制 - SHA256 哈希检查和引用计数
- [ ] 文件访问接口 - 静态文件服务和访问控制
- [ ] 文件清理任务 - 定时清理无引用的文件

## 阶段四：互动功能开发

### 9. 点赞功能模块

- [ ] 文章点赞接口 - 点赞和取消点赞功能
- [ ] 点赞状态查询 - 用户点赞状态和点赞数统计
- [ ] 点赞记录管理 - 用户点赞历史查询

### 10. 收藏功能模块

- [ ] 收藏夹管理 - 创建、更新、删除收藏夹
- [ ] 文章收藏接口 - 收藏和取消收藏文章
- [ ] 收藏列表查询 - 分收藏夹查看收藏的文章
- [ ] 收藏数据统计 - 收藏数统计和热门文章

### 11. 评论系统模块

- [ ] 评论 CRUD 接口 - 发表、查询、删除评论
- [ ] 多级回复功能 - 支持 3 级嵌套回复结构
- [ ] 评论点赞功能 - 评论点赞和取消点赞
- [ ] 评论管理接口 - 作者和管理员评论管理权限

## 阶段五：安全防护和优化

### 12. 安全防护模块

- [ ] 限流中间件 - IP 和用户级别限流保护
- [ ] 参数验证中间件 - 统一的输入参数验证
- [ ] CORS 中间件 - 跨域请求处理
- [ ] 安全头中间件 - XSS 和其他安全防护

### 13. 系统管理模块

- [ ] 管理员认证 - 管理员权限验证中间件
- [ ] 用户管理接口 - 管理员查看和管理用户
- [ ] 内容管理接口 - 文章和评论审核管理
- [ ] 系统统计接口 - 用户、文章、评论数据统计

### 14. 性能优化

- [ ] Redis 缓存 - 热点数据缓存和缓存策略
- [ ] 数据库优化 - 查询优化和索引调整
- [ ] 日志系统 - 结构化日志和日志轮转配置
- [ ] 监控指标 - API 性能监控和错误统计

## 阶段六：测试和文档

### 15. 测试模块

- [ ] 单元测试 - 核心业务逻辑单元测试
- [ ] 集成测试 - API 接口集成测试
- [ ] 性能测试 - 并发压力测试和性能评估

### 16. 文档和部署

- [ ] API 文档 - Swagger 自动生成和接口文档
- [ ] 部署脚本 - 生产环境部署自动化脚本
- [ ] 运维文档 - 系统运维和故障处理文档

## 项目完成标志

- [ ] 所有核心功能开发完成并通过测试
- [ ] API 文档完整，可供前端开发者使用
- [ ] 生产环境部署成功，系统稳定运行
- [ ] 安全防护措施到位，防止恶意攻击

---

**更新说明**:

- ✅ 已完成：阶段一的所有设计文档
- 🔄 进行中：准备开始阶段二的开发工作
- ⏳ 待完成：所有开发和测试任务

每完成一个任务，请在对应项目前打上 [x] 标记。
